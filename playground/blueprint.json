{
	"$schema": "https://playground.wordpress.net/blueprint-schema.json",
	"landingPage": "/",
	"login": true,
	"steps": [
		{
			"step": "resetData"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/mu-plugins/rewrite.php",
			"data": "<?php /* Use pretty permalinks */ add_action( 'after_setup_theme', function() { global $wp_rewrite; $wp_rewrite->set_permalink_structure('/%postname%/'); $wp_rewrite->flush_rules(); } );"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/mu-plugins/simple-media-foldering.php",
			"data": "<?php add_filter( 'pre_option_uploads_use_yearmonth_folders', '__return_zero');"
		},
		{
			"step": "installTheme",
			"themeData": {
				"resource": "url",
				"url": "https://github.com/saulirajala/kontentti-sauli-verkkosivu/archive/refs/heads/main.zip"
			},
			"options": {
				"activate": true
			}
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/postcontent.txt",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/postcontent.txt"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp post create --post_title='Etusivu' --post_type='page' --post_status='publish' /wordpress/wp-content/postcontent.txt --porcelain"
		},
		{
			"step": "wp-cli",
			"command": "wp option update show_on_front 'page'"
		},
		{
			"step": "wp-cli",
			"command": "wp option update page_on_front 1"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/podcast-blue.png",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/podcast-blue.png"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp media import /wordpress/wp-content/podcast-blue.png --title='Podcast blue' --preserve-filetime"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/IMG_6470.jpeg",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/IMG_6470.jpeg"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp media import /wordpress/wp-content/IMG_6470.jpeg --title='Omakuva' --preserve-filetime"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/podcast-red.png",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/podcast-red.png"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp media import /wordpress/wp-content/podcast-red.png --title='Podcast red' --preserve-filetime"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/podcast-green.png",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/podcast-green.png"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp media import /wordpress/wp-content/podcast-green.png --title='Podcast green' --preserve-filetime"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/podcast-lila.png",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/podcast-lila.png"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp media import /wordpress/wp-content/podcast-lila.png --title='Podcast lila' --preserve-filetime"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/podcast-ocra.png",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/podcast-ocra.png"
			}
		},
		{
			"step": "wp-cli",
			"command": "wp media import /wordpress/wp-content/podcast-ocra.png --title='Podcast ocra' --preserve-filetime"
		},
		{
			"step": "wp-cli",
			"command": "wp language core install fi --activate"
		},
		{
			"step": "writeFile",
			"path": "/wordpress/wp-content/postcontent.php",
			"data": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/saulirajala/kontentti-sauli-verkkosivu/refs/heads/main/playground/postcontent.php"
			}
		},
		{
			"step": "runPHP",
			"code": "<?php require_once '/wordpress/wp-load.php';ob_start();include '/wordpress/wp-content/postcontent.php';$post_content=ob_get_clean(); wp_insert_post(array('post_title' => 'Simple post from PHP', 'post_content'  => $post_content, 'post_author'   => 1, 'post_status' => 'publish')); ?>"
		}
	],
	"siteOptions": {
		"blogname": "Kontentti-Sauli",
		"blogdescription": "Selkeää tarinankerrontaa",
		"show_on_front": "page",
		"page_on_front": "1",
		"timezone_string": "Europe/Helsinki"
	},
	"plugins": [
		"create-block-theme",
		"gutenberg",
		"autodescription"
	]
}